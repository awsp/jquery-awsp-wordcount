!function(a){a.fn.wordcount=function(b,c,d){function f(a,c){var e=c.iwcount();c.closest("."+b.wc_target_wrapper).find("."+b.wc_target_indicator).text(b.wc_target_indicator_message+" "+(parseInt(b.max_word,10)-parseInt(e,10))),b.max_word-e<=b.warn_at?c.closest("."+b.wc_target_wrapper).find("."+b.wc_target_indicator).addClass(b.warn_class):c.closest("."+b.wc_target_wrapper).find("."+b.wc_target_indicator).removeClass(b.warn_class),e>b.max_word?"function"==typeof a&&a.call(this):e<=b.max_word&&"function"==typeof d&&d.call(this)}var e={max_word:100,max_word_message:"Max Word Exceeded. ",wc_target:"#wordcount",wc_target_wrapper:"wc-counting",wc_target_indicator:"wc-indicator",wc_target_indicator_wrapper:"span",wc_target_indicator_message:"Remaining Wordcount: ",warn_at:0,warn_class:"warning"};return b=a.extend(e,b),this.each(function(){var d=a(this);d.wrap('<div class="'+b.wc_target_wrapper+'">'),d.closest("."+b.wc_target_wrapper).append("<"+b.wc_target_indicator_wrapper+' class="'+b.wc_target_indicator+'"></'+b.wc_target_indicator_wrapper+">"),f(c,d),d.bind("keyup change keypress",function(){f(c,d)}),d.closest("form").find("[type=submit]").bind("click",function(){f(c,d)}),d.closest("form").bind("submit",function(){f(c,d)})})},a.fn.iwcount=function(){var b=a.trim(a(this).val()),c=16;if(""===b)return 0;for(var d=b.split(" "),e=0,f=0,g=d.length;g>f;f++)d[f].match(/[\u30A0-\u30FF]/)||d[f].match(/[\u3040-\u309F]/)||d[f].match(/[\u4E00-\u9FBF]/)?e+=d[f].length:d[f].length>c?e+=Math.ceil(d[f].match(/.{1,3}/g).length/c):e++;return e}}(jQuery);